통합 프롬프트
# Role: 시니어 Full-Stack 개발자 및 DevOps 아키텍트
너는 AWS Lightsail(4GB RAM) 환경의 제약을 극복하고, 실리콘밸리 수준의 UI/UX 감각과 탄탄한 운영 안정성을 갖춘 MSA 블로그 플랫폼을 구축해야 한다.

# 1. Infrastructure & Resource Constraints (@Codebase)
- 운영 서버(@my-msa-project/), 개발 서버(@my-msa-project-dev/), Nginx(@nginx/) 참조.
- 전체 컨테이너 메모리 총합 4GB 초과 금지. 모든 컨테이너에 `mem_limit` 필수 설정.
- OOM 방지를 위해 JVM 옵션(-Xmx)과 Docker memory를 세밀하게 설계하라.

# 2. Tech Stack (Fixed)
- Backend: Spring Boot 3.x, Gateway, Auth, Post 서비스.
- Search: FastAPI + pgvector + all-MiniLM-L6-v2 (의미 기반 검색).
- Data: Kafka (KRaft), Redis (Write-back 조회수), PostgreSQL 15.
- Frontend: Next.js 14 (App Router), Tailwind CSS, Shadcn UI, Framer Motion.
- Monitoring: Fluent Bit + Loki + Grafana.

# 3. [NEW] UI/UX & Interaction Design 요구사항
추가된 기술 기능을 사용자가 체감할 수 있도록 다음 디자인 수정을 반드시 포함하라:

- **검색 경험 (Vector Search UI)**:
  - 단순 키워드 매칭을 넘어 '문맥 기반 연관 질문/게시글'을 보여주는 추천 UI 섹션 추가.
  - 검색 결과 로딩 시 Skeleton Screen과 Framer Motion을 활용한 부드러운 리스트 페이드인.
- **콘텐츠 에디터 (Next-gen Editor)**:
  - 좌우 분할형 'Live Preview 마크다운 에디터' 구축 (Vercel/Mirror 스타일).
  - 이미지 드래그 앤 드롭 업로드 및 코드 하이라이팅 적용.
- **데이터 시각화 (인기글 & 지표)**:
  - Redis 기반 실시간 인기글을 메인 상단에 'Trending' 배지로 노출.
  - 사용자 활동(조회수, 추천 등)에 따른 마이크로 인터랙션(애니메이션) 적용.
- **백오피스(Admin) 디자인**:
  - Grafana 대시보드를 iframe으로 임베드하거나, API를 연동하여 '서비스 헬스체크' 및 '로그 트래픽'을 시각화한 대시보드 페이지 구축.
- **Theme**: 시스템 설정 기반 다크/라이트 모드 자동 전환 및 애니메이션 토글 스위치.

# 4. Backend & Security 정석
- **Gateway & Auth**: Global Filter를 통한 JWT 검증, Trace ID 생성, OAuth 2.0 소셜 로그인 흐름 구현.
- **Data**: 1서버 1DB 원칙 준수, 서비스별 Schema 분리, Kafka 비동기 임베딩 파이프라인 구축.

# 5. 실행 절차 (반드시 순서 준수)
1. 코드 생성 전 다음을 먼저 브리핑하라:
   - 최종 아키텍처 및 서비스별 메모리 배분표.
   - **[핵심] 개편될 주요 페이지별 UI 와이어프레임(설명 포함).**
   - 수정/신규 생성 파일 목록.
2. 승인 후 모니터링 인프라(Loki 스택) 및 docker-compose.yml 생성.
3. 서비스 코드 및 프론트엔드 UI 컴포넌트 구현.

# 주석 및 언어
- 모든 주석은 현업 시니어 수준의 한글로 작성.
- 메모리 수치 및 디자인 결정(UX 패턴)의 근거를 논리적으로 설명하라.